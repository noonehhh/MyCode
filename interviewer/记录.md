今日份面试题：
1、线程间的通信、协程间的通信、进程间的通信、以及进程、线程、协程的定义与区别
2、线程都有哪几种状态
3、grpc对，问了问原理
4、kafka
5、二分查找

怎么解决哈希冲突







字节跳动电商一面

时间：70min

1. 介绍项目
2. ``select(), poll(), epoll()`` 的区别定义
3. Linux QPS怎么统计？
4. CSRF攻击原理、防范
5. 四次挥手、time_wait的意义
6. 进程和线程、Goroutine概念
7. Golang map的扩容
8. gRPC原理、几种模式？
9. MySQL聚簇索引和非聚簇索引
10. MySQL为何要用自增主键
11. 什么是B+树
12. 事务隔离机制、可重复读实现
13. 手撕LRU











关于协程和线程的区别和联系

问：协程在什么时候 会被挂起     io？ sleep？  

mmap是一个系统调用，用于把文件映射到内存上。DMA是一种设备，是个硬件 不是一回事

https://blog.csdn.net/qq_39787367/article/details/108654824 看下这个

cpu不是直接访问内存和硬盘的，而是通过DMA，让DMA去做这个操作 你可以理解为"协处理器"

1.CPU跟DMA是分时复用总线的，就跟进程切换一样大家短时间内轮流来的，所以宏观可以认为是并行的。

CPU三级缓存中会有提前缓存好的指令，CPU闲置的时候会先去处理这里的指令



每日一股：CPU发出IO请求或者取内存请求时，是向DMA请求的，此时DMA拿到了总线的控制权，岂不是说此时CPU在限制?但是实际情况是，CPU不会被慢速的IO或者内存操作拖慢，是因为什么呢？
所以总结起来是
1.上下文切换：协程切换上下文不需要刷新 TLB 缓存，在用户态保存栈帧。并且不需要走系统调用的原语操作
2.内存占用：协程的栈帧占的内存比线程小（还有分段栈的优化）
3.调度方面：有 GMP 模型，P是基于抢占式的能够有效处理好协程的调度



协程的产生是计算机世界为了追求更好地利用CPU和内存，我是这么理解的。
虽然多线程多进程操作系统也能同时执行多个任务，解决了阻塞的问题，但是也造成1、切换上CPU的时间开销；2、需要解决资源竞争或冲突问题。而且进程和线程都占内存过大，好几M。
所以想出，把原本跨越内核空间和用户空间的线程拆成两部分，内核空间的线程+用户空间的协程（具体语言会做相应的绑定和调度策略）。比如GO是GMP模型。

协程，全称协作进程，即该进程是可以与其他进程通信的。go中的协程的栈是可扩展的，最小2KB，最大可到1GB，一般线程的栈是固定大小的;go中协程的调度不需要内核介入，即GMP模型;go中的协程可以使用通道进行信息交换，是语言层面支持的，一般的线程采用共享内存的方式进行信息交换。这应该就是go中协程与一般意义上线程的异同…


好 八股文又来了 git merge 跟git rebase有啥区别

git pull 跟git fetch有啥区别

rocketmq的日志刷盘是所有topic写入到一个文件，kafka是一个topic一个文件，用的mmap，后者触发的缺页中断更多，但是速度快点，前者瓶颈在IO上面所以稳而慢













阿里云二面  35分钟
TCP第三次握手的时候报文段丢失会发生什么
说一下三次握手
TCP第四次挥手的时候报文段丢失会发生什么
为什么等待2MSL，什么是MSL
TCP的几种状态表示什么意思（RST、PSH）
TCP流量控制、拥塞控制
HTTPS客户端和服务端握手的过程
对称加密和非对称加密
乐观锁和悲观锁
会不会java, 知不知道compareAndSet
说一下哈希表PUT的伪代码
怎么解决哈希碰撞
select poll epoll
docker cgroups namespace
怎么排查SQL突然变慢的问题
反问



redis中multi和pipeline区别

sentx分布式锁-连续提交多次-原子操作

尾递归

python面试题http://python.jobbole.com/85231/



算法是快排，和统计字符串里数字，字母，空格和其他字符个数

算法是，反转循环列表，头不动，还有求二叉树中节点之间的最长距离
其他问了数据库索引，golang的数组切片，还有linux的io模型和七层协议那些
还有GPM调度
https://leetcode-cn.com/problems/binary-tree-maximum-path-sum/
https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/
昨天百度二面是求一棵树内，最长的两个节点间路径

还有循环链表，头不动，其他反转

go问了gpm，gr调度那些，还有切片扩容，tcp头，拥塞控制，os的线程调度（没会），内存管理（答的虚拟内存分页那些，问了lru）还有红黑树，hashtable和b+树，mysql索引，最左匹配

今天也去面试了，算法的有三题，都是比较常见的：查找子串，1-n个数中找出整除3或/和5的数，数组求中位数

https://leetcode-cn.com/problems/median-of-two-sorted-arrays/





dfs bfs 快排 堆排 归并 套路默写

FIFO，短作业优先，最短剩余时间优先，时间片轮转，优先级调度，多级反馈队列

问我分布式锁，问我为什么使用信号量不直接用锁
GC垃圾收集+什么时候触发
大量并发读，怎么更新
怎么顺序执行线程
synchronize静态方法费静态方法使用一把锁吗
两个树判断相等
i++原子性吗，怎么原子性操作

「为什么 innodb 的缓冲池管理页中的 LRU 算法不是传统的将新数据页放到头？」

一个无序数组，删除某一个重复的数，怎么做高效?

1.map 记录重复，牺牲空间换时间
2.排序，双指针

sort，还有哈希